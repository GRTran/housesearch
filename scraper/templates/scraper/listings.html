{% extends 'base.html' %}
{% block base %}
{% load static %}
{% load humanize %}
{% csrf_token %}
<head>
	{% comment %} Add Jquery as JS functions {% endcomment %}
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="{% static 'javascript/listings.js' %}"></script>
</head>
	<header><title>Home</title></header>
		<body class="p-3 mb-2 text-main">
			<h1> 
				House Scraper
			</h1>
			<p class="text-white-50 text-start">
				Here, information about all houses currently for sale in a local area by local estate agents, is accumulated into a single easy to read webpage. This will allow us to see which houses are of interest to us. A like/dislike feature is added which will then be used to try and find other houses that we think we will like.
			</p>
			{% comment %} {% comment %} <div class="container-fluid"> {% endcomment %}
			<div class="row row-cols-1 row-cols-lg-3 g-4">
				{% for list in object_list %}
					<div class="col">
						<div class="card">
							<h5 id="property-header" class="card-title">{{list.title}}</h5>

							{% comment %} Image Href of property, located on right of grid {% endcomment %}
							<a id="property-link" target="_blank" href="{{list.url}}">
								{% comment %} <img class="card-img-top" src="..." alt="Card image cap"> {% endcomment %}
								<img src="{% static 'images/houses/' %}{{list.image_url}}" class="img-fluid card-img-top" alt="Card image cap">
							</a>

							<div class="card-body">
								<span id="price" class="card-text fw-bold ">
									Guide Price: 
								</span>
								<span  class="card-text">
									Â£{{list.price|intcomma}} 
								</span>
								{% comment %} Like/Dislike button feature. {% endcomment %}
								<div class = "button-section">
									{% if list.liked == 1 %}
										{% comment %} House listing disliked {% endcomment %}
										<img id="{{list.id}}_like" name="like" value={{list.id}} type="image" src="{% static 'images/like.png' %}"   class="jbtn btn-secondary">
										<img id="{{list.id}}_dislike" name="dislike" value={{list.id}} type="image" src="{% static 'images/dislike.png' %}"  class= "jbtn btn-danger" >
									{%elif list.liked == 2%}
										{% comment %} House listing liked {% endcomment %}
										<img id="{{list.id}}_like"  name="like" value={{list.id}} type="image" src="{% static 'images/like.png' %}"  class="jbtn btn-success">
										<img id="{{list.id}}_dislike" name="dislike" value={{list.id}} type="image" src="{% static 'images/dislike.png' %}"  class= "jbtn btn-secondary" >
									{%else%}
										<img id="{{ list.id}}_like"  name="like" value={{list.id}} type="image" src="{% static 'images/like.png' %}"  class="jbtn btn-primary  ">
										<img id="{{list.id}}_dislike" name="dislike" value={{list.id}} type="image" src="{% static 'images/dislike.png' %}"  class= "jbtn btn-primary" >
									{%endif%}
								</div>
							</div>
						</div>
					</div>

				{% endfor %}
			</div>
			<nav aria-label="Page navigation example">
			<ul class="pagination">
				<li class="page-item">
				<a class="page-link" href="#" aria-label="Previous">
					<span aria-hidden="true">&laquo;</span>
					<span class="sr-only">Previous</span>
				</a>
				</li
				<li class="page-item"><a class="page-link" href="#">1</a></li>
				<li class="page-item"><a class="page-link" href="#">2</a></li>
				<li class="page-item"><a class="page-link" href="#">3</a></li>
				<li class="page-item">
				<a class="page-link" href="#" aria-label="Next">
					<span aria-hidden="true">&raquo;</span>
					<span class="sr-only">Next</span>
				</a>
				</li>
			</ul>
			</nav>
		</body>
{% endblock %}